{
    "family":"firelens-example-logstash",
    "taskRoleArn":"arn:aws:iam::XXXXXXXXXXXX:role/serviceTaskRole",
    "executionRoleArn":"arn:aws:iam::XXXXXXXXXXXX:role/ecsTaskExecutionRole",
    "networkMode":"awsvpc",
    "containerDefinitions":[
        {
            "essential":true,
            "image":"906394416424.dkr.ecr.us-east-1.amazonaws.com/aws-for-fluent-bit:stable",
            "name":"log_router",
            "firelensConfiguration":{
                "type":"fluentbit"
            },
            "memoryReservation":50
        },
        {
            "essential":true,
            "image":"nginx",
            "name":"app",
            "portMappings":{
                "ContainerPort":443,
                "HostPort":443,
                "Protcol":"tcp"
            },
            "logConfiguration":{
                "logDriver":"awsfirelens",
                "options":{
                    "Name":"http",
                    "Host":"api.logstash.fake.domain",
                    "Port":"8090",
                    "Format":"json",
                    "Retry_Limit": "2"
                },
                "secretOptions":[
                    {
                        "name":"URI",
                        "valueFrom":"arn:${Partition}:secretsmanager:${RegionID}:${AccountID}:secret:${SecretId}"
                    }
                ]
            },
            "memoryReservation":100
        }
    ]
}